---
layout: section
title: "Scrivener to Markdown and Word Workflow"
chapter: "X"
section: "2"
subsection: "3"
indexterms: 
---
The move from Scrivener to markdown (.md) involves some amount of alteration of the markdown files exported. This is because Scrivener exports to markdown, but not the kind of Yet Another Markup Language (.yaml) formatted markdown. The goal of this formatting is to create a serviceable file in Microsoft Word (.docx) and a markdown file that can be made to work for the dissertation platform with minimal intervention.

To prep a file for export, the Scrivener draft needs to first be marked up with placeholder sequences for the definitions and image files. For images with no opacity, the following format was used:

#    #    <img id="[filename]" src="{{ site.baseurl }}/assets/img/[filename].jpg">

And for images with opacity filtering required, the following format was used:

#    #    <img id="[filename]" class="opaque" src="{{ site.baseurl }}/assets/img/[filename]_full.jpg">

#    <img id="[filename]=-2[filename].jpg">

#    <img id="[filename]" class="partially-opaque" src="{{ site.baseurl }}/assets/img/[filename]_partial.jpg">

Here are some examples from the first chapter (<a href="{{ site.baseurl }}/dissertation/1_2_2}}">1.2.2</a>). For an image with no filtering:

#    #    <img id="TubSanConf_1926_0003" src="{{ site.baseurl }}/assets/img/TubSanConf_1926_0003.jpg">

For an image with opacity filtering:

#    #    <img id="TubSanConf_1926_0002" class="opaque" src="{{ site.baseurl }}/assets/img/TubSanConf_1926_0002_full.jpg">

#    <img id="TubSanConf_1926_0002" class="transparent" src="{{ site.baseurl }}/assets/img/TubSanConf_1926_0002.jpg">

#    <img id="TubSanConf_1926_0002" class="partially-opaque" src="{{ site.baseurl }}/assets/img/TubSanConf_1926_0002_partial.jpg">

These uniform sequences are made to make find and replace functions work fluidly across the dissertation. This can be done programmatically using a python script, or by doing batch find and replace functions in a code editor like bbEdit. Here is the protocol for finding and replacing the placeholder sequences:

For non-<span data-tooltip aria-haspopup="true" class="has-tip" data-disable-hover="false" tabindex="1" title="Opacity is a rights-based philosophical framework that assumes humans have a right to not be known in knowledge systems."><b>opaque</b></span> images:

#    #    Find: +=+ Replace with: <img id="

#    Find " src="{{ site.baseurl }}/assets/img/ Replace with: " src="{{ site.baseurl }}/assets/img/

For <span data-tooltip aria-haspopup="true" class="has-tip" data-disable-hover="false" tabindex="1" title="Opacity is a rights-based philosophical framework that assumes humans have a right to not be known in knowledge systems."><b>opaque</b></span> images:

#    #    Find: +=+ Replace with: <img id="

#    Find: " class="opaque" src="{{ site.baseurl }}/assets/img/ Replace with: " class="opaque" src="{{ site.baseurl }}/assets/img/

#    Find: " class="transparent" src="{{ site.baseurl }}/assets/img/ Replace with: " class="transparent" src="{{ site.baseurl }}/assets/img/

#    Find: " class="partially-opaque" src="{{ site.baseurl }}/assets/img/ Replace with: " class="partially-opaque" src="{{ site.baseurl }}/assets/img/

#    Find: _full.jpg"> Replace with: _full.jpg">

#    Find: .jpg"> Replace with: .jpg">

#    Find: _partial.jpg"> Replace with: _partial.jpg">

By replacing each of these placeholder sequences, the code above reads as follows. For non-<span data-tooltip aria-haspopup="true" class="has-tip" data-disable-hover="false" tabindex="1" title="Opacity is a rights-based philosophical framework that assumes humans have a right to not be known in knowledge systems."><b>opaque</b></span> images:

#    #    <img id="TubSanConf_1926_0003" src="{{ site.baseurl }}/assets/img/TubSanConf_1926_0003.jpg">

For <span data-tooltip aria-haspopup="true" class="has-tip" data-disable-hover="false" tabindex="1" title="Opacity is a rights-based philosophical framework that assumes humans have a right to not be known in knowledge systems."><b>opaque</b></span> images:

#    #    <img id="TubSanConf_1926_0002" class="opaque" src="{{ site.baseurl }}/assets/img/TubSanConf_1926_0002_full.jpg">

#    <img id="TubSanConf_1926_0002" class="transparent" src="{{ site.baseurl }}/assets/img/TubSanConf_1926_0002.jpg">

#    <img id="TubSanConf_1926_0002" class="partially-opaque" src="{{ site.baseurl }}/assets/img/TubSanConf_1926_0002_partial.jpg">

The same search and replace workflow is used for the mouseover, but on a slightly more granular scale. While I entered the images as I wrote, I created the definitions and the text <span data-tooltip aria-haspopup="true" class="has-tip" data-disable-hover="false" tabindex="1" title="Opacity is a rights-based philosophical framework that assumes humans have a right to not be known in knowledge systems."><b>opacity</b></span> after the polished draft for the dissertation committee was complete, as a step in parallel with the ethics audit (<a href="{{ site.baseurl }}/dissertation/4_3_5}}">4.3.5</a>). As I read over the chapter, I flagged important terms using the following find and replace structure:

#    #    {#c[chapternumber]-[definitionnumber]}[definition]</b></span>

I broke this into chapter-by-chapter definitions, because the definitions would become too many to keep in my head at any one moment. The definition number allowed me to replace the whole placeholder with a specific, written version which could then be uniform across the chapter or dissertation.

For an example from chapter one (<a href="{{ site.baseurl }}/dissertation/1_4_1}}">1.4.1</a>):

#    #    I address this to think about how the careful framing, and the detail in exposure, would imply a kind of <span data-tooltip aria-haspopup="true" class="has-tip" data-disable-hover="false" tabindex="1" title="I use the phrase 'consent' to refer to the idea of informed consent: that a research subject needs to be aware of what will happen to them in a research project, and that they have the ability to say 'no' at any point during the research program."><b>consent</b></span>, at least from the doctor. Inviting a photographer into the space, having them set up their equipment, and posing for the image all require a kind of acceptance that this work will be done. These are not doctors caught in the act unaware. Very rarely do they return the glace to the camera (fig. 15).

<span data-tooltip aria-haspopup="true" class="has-tip" data-disable-hover="false" tabindex="1" title="I use the phrase 'consent' to refer to the idea of informed consent: that a research subject needs to be aware of what will happen to them in a research project, and that they have the ability to say 'no' at any point during the research program."><b>consent</b></span>

The find and replace, for this example, reads as follows:

#    #    Find: <span data-tooltip aria-haspopup="true" class="has-tip" data-disable-hover="false" tabindex="1" title="I use the phrase 'consent' to refer to the idea of informed consent: that a research subject needs to be aware of what will happen to them in a research project, and that they have the ability to say 'no' at any point during the research program."><b> Replace with: Consent <span data-tooltip aria-haspopup="true" class="has-tip" data-disable-hover="false" tabindex="1" title="I use the phrase 'consent' to refer to the idea of informed consent: that a research subject needs to be aware of what will happen to them in a research project, and that they have the ability to say 'no' at any point during the research program."><b> <span data-tooltip aria-haspopup="true" class="has-tip" data-disable-hover="false" tabindex="1" title="I use consent in relation to the idea of informed consent: that a patient would be first cognizant of the what is done to them, for them, or through them, and that they would have the ability to say 'no' at any point during research."><b> 

#    Find: </b></span> Replace with: </b></span>

The final sentence in the markdown file reads as follows:

#    #    I address this to think about how the careful framing, and the detail in exposure, would imply a kind of <span data-tooltip aria-haspopup="true" class="has-tip" data-disable-hover="false" tabindex="1" title="I use consent in relation to the idea of informed consent: that a patient would be first cognizant of the what is done to them, for them, or through them, and that they would have the ability to say 'no' at any point during research."><b>consent</b></span>, at least from the doctor. Inviting a photographer into the space, having them set up their equipment, and posing for the image all require a kind of acceptance that this work will be done. These are not doctors caught in the act unaware. Very rarely do they return the glace to the camera (fig. 15).

I have included the entire replace function in the next section (<a href="{{ site.baseurl }}/dissertation/X_2_4}}">X.2.4</a>).

The opacity text span classes (<a href="{{ site.baseurl }}/dissertation/X_2_1}}">X.2.1</a>) also function with this replace function. I use the following placeholder for the partial-opacity span class:

#    #    <span class="partial-lines">[content]</span>

And this for full opacity:

#    #    <span class="opaque-lines">[content}</span>

These are replaced using the following replace protocol:

#    #    Find: <span class="opaque-lines"> Replace with: <span class="partial-lines”>

#    Find: <span class="partial-lines"> Replace with: <span class="opaque-lines”>

#    Find: </span> Replace with: </span>

Here is an example from chapter 1 (<a href="{{ site.baseurl }}/dissertation/1_3_4}}">1.3.4</a>):

#    #    <span class="partial-lines"><span class="opaque-lines">13 year old Polish lad who was suffering from tuberculosis,</span></span>

Which reads like this in the final markdown file:

#    #    <span class="partial-lines"><span class="opaque-lines">13 year old Polish lad who was suffering from tuberculosis,</span></span> 

The last process that is required for the creation of the markdown files is the header. This has to be entered manually. The header is the first text in any of the markdown files, and reads as follows:

#    #    ---

#    layout: #this defines how the page will be created when the site is built.

#    title:

#    identifier: #this corresponds with the actual identifier for each section

#    chapter: #this is used for the autogenerated table of contents

#    section: #this is used for the autogenerated table of contents

#    subsection: #this is used for the autogenerated table of contents

#    chapterdisplay: #this is used for the autogenerated table of contents

#    sectiondisplay: #this is used for the autogenerated table of contents

#    subsectiondisplay: #this is used for the autogenerated table of contents

#    ---

Here is an example from chapter 1 (<a href="{{ site.baseurl }}/dissertation/1_3_4}}">1.3.4</a>):

#    #    ---

#    layout: section

#    title: "Teaching Hygiene"

#    identifier: <a href="{{ site.baseurl }}/dissertation/1_3_4}}">1.3.4</a>

#    chapter: 1

#    section: 3

#    subsection: 4

#    chapterdisplay: 1

#    sectiondisplay: 3

#    subsectiondisplay: 4

#    ---